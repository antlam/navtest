import { useState } from "react";
import { ChevronDown, ChevronRight } from "lucide-react";
import { cn } from "@/lib/utils";
import SubNavigationItem from "./SubNavigationItem";

interface SubItem {
  title: string;
  indent?: number;
}

interface ExpandableNavigationSectionProps {
  title: string;
  items: SubItem[];
  defaultExpanded?: boolean;
}

const ExpandableNavigationSection = ({ 
  title, 
  items, 
  defaultExpanded = false 
}: ExpandableNavigationSectionProps) => {
  const [isExpanded, setIsExpanded] = useState(defaultExpanded);

  return (
    <div className="bg-card border border-border">
      <button
        onClick={() => setIsExpanded(!isExpanded)}
        className="w-full p-4 text-left transition-colors bg-card text-card-foreground hover:bg-muted border-b border-border flex items-center justify-between"
      >
        <span className="font-medium">{title}</span>
        {isExpanded ? (
          <ChevronDown className="w-5 h-5" />
        ) : (
          <ChevronRight className="w-5 h-5" />
        )}
      </button>
      
      {isExpanded && (
        <div>
          {items.map((item, index) => (
            <SubNavigationItem
              key={index}
              title={item.title}
              indent={item.indent || 1}
            />
          ))}
        </div>
      )}
    </div>
  );
};

export default ExpandableNavigationSection;
